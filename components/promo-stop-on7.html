<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lottery ver.1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;  -webkit-font-smoothing: antialiased;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;  color: inherit;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}details {  display: block;  margin: 0;  padding: 0;}summary::-webkit-details-marker {  display: none;}[data-thq="accordion"] [data-thq="accordion-content"] {  max-height: 0;  overflow: hidden;  transition: max-height 0.3s ease-in-out;  padding: 0;}[data-thq="accordion"] details[data-thq="accordion-trigger"][open] + [data-thq="accordion-content"] {  max-height: 1000vh;}details[data-thq="accordion-trigger"][open] summary [data-thq="accordion-icon"] {  transform: rotate(180deg);}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-theme-neutral-dark);
        background: var(--dl-color-theme-neutral-light);

        fill: var(--dl-color-theme-neutral-dark);
      }
    </style>
    <link
      rel="stylesheet"
      href="https://unpkg.com/animate.css@4.1.1/animate.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=STIX+Two+Text:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@teleporthq/teleport-custom-scripts/dist/style.css"
    />
    <style>
      #phone-error {
        display: none;
        color: red;
        font-size: 14px;
        margin-top: 4px;
      }
      .roulette-hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <link rel="stylesheet" href="../style.css" />
    <div>
      <link href="./promo-stop-on7.css" rel="stylesheet" />
      <div class="promo-stop-on7-container10 promo-stop-on7">
        <div>
          <div class="promo-stop-on7-container12">
            <style>
                #confetti {
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100vw;
                  height: 100vh;
                  pointer-events: none;
                  z-index: 9999;
                  overflow: hidden;
                }

                .confetti-piece {
                  position: absolute;
                  width: 10px;
                  height: 10px;
                  background-color: red;
                  animation: confetti-fall 3s linear forwards;
                }

                @keyframes confetti-fall {
                  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
                }

                /* üì± –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
              .modal {
                display: none;
                position: fixed;
                z-index: 10000;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0, 0, 0, 0.6);
                justify-content: center;
                align-items: center;
              }

              .modal.active {
                display: flex;
              }

              .modal-content {
                background: #fff;
                padding: 20px;
                border-radius: 10px;
                width: 90%;
                max-width: 400px;
                text-align: left;
              }

              .modal-content h2 {
                margin-top: 0;
                font-size: 20px;
              }

              .modal-content input {
                width: 100%;
                padding: 10px;
                margin-top: 10px;
                border: 1px solid #ccc;
                border-radius: 6px;
              }

              .modal-content button {
                width: 100%;
                margin-top: 15px;
                padding: 12px;
                background-color: #00c853;
                color: #fff;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-size: 16px;
              }

              .error-message {
                color: red;
                font-size: 14px;
                margin-top: 5px;
              }

              #phoneModal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0,0,0,0.6);
                z-index: 10000;
                justify-content: center;
                align-items: center;
              }

              #phoneModal.active {
                display: flex;
              }

              /* üîí –°–∫—Ä—ã—Ç–∏–µ –¥–æ –∫–ª–∏–∫–∞ */
              .roulette-hidden {
                display: none;
              }
            </style>
          </div>
        </div>
        <div>
          <div class="promo-stop-on7-container14">
            <script>
              (function(){
                window.addEventListener('DOMContentLoaded', function () {
                  const btn = document.getElementById('rouletteStartBtn');
                  const numberDisplay = document.getElementById('rouletteNumber');
                  const message = document.getElementById('rouletteMessage');

                  const displayContainer = numberDisplay.closest('div'); // –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–∫—Ä—É–≥ —á–∏—Å–ª–∞
                  const messageContainer = message.closest('div');

                  // –°–∫—Ä—ã–≤–∞–µ–º –∏—Ö –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
                  displayContainer.classList.add('roulette-hidden');
                  messageContainer.classList.add('roulette-hidden');

                  let interval;
                  let isSpinning = false;
                  let firstClick = true;

                  btn.addEventListener('click', () => {
                    // –†–∞—Å–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ
                    if (firstClick) {
                      displayContainer.classList.remove('roulette-hidden');
                      messageContainer.classList.remove('roulette-hidden');
                      firstClick = false;
                    }

                    if (!isSpinning) {
                      message.textContent = '';
                      btn.textContent = '–°—Ç–æ–ø';
                      isSpinning = true;
                      interval = setInterval(() => {
                        const num = Math.floor(Math.random() * 10);
                        numberDisplay.textContent = num;
                      }, 60);
                    } else {
                      clearInterval(interval);
                      isSpinning = false;
                      btn.textContent = '–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞';
                      const result = parseInt(numberDisplay.textContent);
                      if (result === 7) {
                        message.textContent = 'üéâ –£—Ä–∞! –í—ã –ø–æ–π–º–∞–ª–∏ 7! –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑!';
                        launchConfetti(); // –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                      } else {
                        message.textContent = 'üò¢ –£–≤—ã, –≤—ã –Ω–µ –ø–æ–π–º–∞–ª–∏ 7. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!';
                      }
                    }
                  });
                });

                // üéä –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
                function launchConfetti() {
                  const confetti = document.getElementById('confetti');
                  const colors = ['#ff5252', '#ffeb3b', '#00e676', '#448aff', '#ff6ec7'];
                  for (let i = 0; i < 100; i++) {
                    const piece = document.createElement('div');
                    piece.className = 'confetti-piece';
                    piece.style.left = Math.random() * 100 + 'vw';
                    piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    piece.style.width = Math.random() * 8 + 4 + 'px';
                    piece.style.height = Math.random() * 8 + 4 + 'px';
                    piece.style.animationDuration = Math.random() * 2 + 2 + 's';
                    confetti.appendChild(piece);
                    setTimeout(() => piece.remove(), 3000);
                  }
                }
              })();
            </script>
          </div>
        </div>
        <div class="promo-stop-on7-container15 roulette-wrapper">
          <h1 class="roulette-title">
            <fragment class="promo-stop-on7-fragment3">
              <span class="promo-stop-on7-text20">üé∞ –ü–æ–π–º–∞–π —Å–µ–º–µ—Ä–∫—É!</span>
            </fragment>
          </h1>
          <p class="roulette-subtitle">
            <fragment class="promo-stop-on7-fragment4">
              <span class="promo-stop-on7-text21">
                –ù–∞–∂–º–∏ "–°—Ç–æ–ø" –∏ –ø–æ–π–º–∞–π —á–∏—Å–ª–æ 7!
              </span>
            </fragment>
          </p>
          <div id="rouletteNumber" class="roulette-display">
            <span>
              <fragment class="promo-stop-on7-fragment2">
                <span class="promo-stop-on7-text19">0</span>
              </fragment>
            </span>
          </div>
          <button id="rouletteStartBtn" class="roulette-start-btn button">
            <span>
              <fragment class="promo-stop-on7-fragment1">
                <span class="promo-stop-on7-text18">–°—Ç–∞—Ä—Ç</span>
              </fragment>
            </span>
          </button>
          <div id="rouletteMessage" class="roulette-message"></div>
          <div id="confetti" class="promo-stop-on7-confetti"></div>
          <div id="phoneModal" class="promo-stop-on7-container18">
            <div id="modal-content" class="promo-stop-on7-container19">
              <h1>
                <fragment class="promo-stop-on7-fragment5">
                  <span class="promo-stop-on7-text22">–ü–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å</span>
                </fragment>
              </h1>
              <span>
                <fragment class="promo-stop-on7-fragment6">
                  <span class="promo-stop-on7-text23">
                    –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                  </span>
                </fragment>
              </span>
              <input
                type="text"
                placeholder="+996 (700) 123456"
                id="phoneInput"
                class="input"
              />
              <span id="phoneError" class="error-message">
                <fragment class="promo-stop-on7-fragment7">
                  <span class="promo-stop-on7-text24">Text</span>
                </fragment>
              </span>
              <button type="button" id="submitPhoneBtn" class="button">
                <span>
                  <fragment class="promo-stop-on7-fragment8">
                    <span class="promo-stop-on7-text25">–ü–æ–ª—É—á–∏—Ç–∏—å –±–æ–Ω—É—Å</span>
                  </fragment>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ ID
      const phoneInput = document.getElementById('phone');
      const smsCodeBlock = document.getElementById('smsCodeBlock');
      const passwordBlock = document.getElementById('passwordBlock');
      const smsCodeInput = document.getElementById('sms-code');
      const passwordInput = document.getElementById('password');
      const smsBtn = document.getElementById('smsBtn');
      const smsBtnText = document.getElementById('smsBtnText');
      const message = document.getElementById('message');

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
      document.getElementById('smsBtn')?.addEventListener('click', handleSmsLogin);
      document.getElementById('passwordLoginBtn')?.addEventListener('click', handlePasswordLogin);
      document.getElementById('smsCodeBtn')?.addEventListener('click', verifyCode);
      document.getElementById('passwordBtn')?.addEventListener('click', verifyPassword);

      // –ú–∞—Å–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
      phoneInput?.addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, '').substring(1);
        let formatted = '+7 (';

        if (value.length > 0) formatted += value.substring(0, 3);
        if (value.length >= 4) formatted += ') ' + value.substring(3, 6);
        if (value.length >= 7) formatted += '-' + value.substring(6, 8);
        if (value.length >= 9) formatted += '-' + value.substring(8, 10);

        e.target.value = formatted;
      });

      // –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ –ø–æ –°–ú–°"
      function handleSmsLogin() {
        const digits = phoneInput.value.replace(/\D/g, '');
        if (digits.length !== 11) {
          showMessage('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞', false);
          return;
        }

        smsCodeBlock.classList.remove('hidden');
        passwordBlock.classList.add('hidden');
        smsBtn.disabled = true;
        smsBtnText.innerHTML = `<div class="spinner"></div>`;

        setTimeout(() => {
          smsBtn.disabled = false;
          smsBtnText.textContent = '–í–æ–π—Ç–∏ –ø–æ –°–ú–°';
          showMessage('–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ ' + phoneInput.value, true);
        }, 1500);
      }

      // –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ –ø–æ –ø–∞—Ä–æ–ª—é"
      function handlePasswordLogin() {
        passwordBlock.classList.remove('hidden');
        smsCodeBlock.classList.add('hidden');
        message.classList.add('hidden');
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –∏–∑ –°–ú–°
      function verifyCode() {
        const code = smsCodeInput.value.trim();
        if (!/^\d{4}$/.test(code)) {
          showMessage('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π 4-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥', false);
          return;
        }
        showMessage('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –ø–æ –°–ú–°!', true);
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
      function verifyPassword() {
        const password = passwordInput.value;
        if (password.length < 6) {
          showMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤', false);
          return;
        }
        showMessage('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é!', true);
      }

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
      function showMessage(text, success = true) {
        message.textContent = text;
        message.classList.remove('hidden');
        message.style.backgroundColor = success ? '#e0fce0' : '#ffe0e0';
        message.style.borderColor = success ? '#6dd36d' : '#ff8c8c';
        message.style.color = success ? '#2e7d32' : '#c62828';
      }

      // –ê–≤—Ç–æ-—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
      smsCodeInput?.addEventListener('input', function () {
        if (this.value.length >= 4) this.blur();
      });
    </script>
    <script
      defer=""
      src="https://unpkg.com/@teleporthq/teleport-custom-scripts"
    ></script>
  </body>
</html>
